<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    th:replace="~{common/layout_4block :: layout(~{::body/content()})}">
<head>
	<title>会員登録入力 | シェアードショップ</title>
	<meta charset="UTF-8" />
</head>
<body class="admin user_regist_input_admin">
	<h3>社員登録入力画面</h3>
	
	<div class="update">
		 
		<form th:action="@{/regist/check}" method="post" th:object="${employeeForm}">
			  
			<div th:if="${#fields.hasAnyErrors()}" class="error_list" style="color:red;">
				<p th:each="err : ${#fields.allErrors()}" style="display: flex; align-items: center;">
        <span style="margin-right: 5px;">⚠️</span> 
        <span th:text="${err}"></span>
        </div>
			<div class="form">
				<div class="label">パスワード：</div>
				<div class="input required"style="display: flex; align-items: center; gap: 10px;">
					<input type="password" th:field="*{empPass}" />
					<button type="button" id="toggleVisibility" 
                style="cursor: pointer; padding: 2px 10px;">
            Open
        </button>
				</div>
			</div>
			
			<div class="form">
				<div class="label">社員名：</div>
 				<div class="input required">
					<input type="text" th:field="*{empName}" />
				</div>
			</div>
			
			<div class="form">
				<div class="label">性別：</div>
				<div class="input">
					<input type="radio" th:field="*{gender}" value="1" />男性
					<input type="radio" th:field="*{gender}" value="2" />女性
				</div>
			</div>
			
			<div class="form">
				<div class="label">住所：</div>
				<div class="input required">
					<input type="text" th:field="*{address}" />
				</div>
			</div>
			
			<div class="form">
				<div class="label">生年月日：(YYYY/MM/DD)</div>
				<div class="input required">
					<input type="text" th:field="*{birthday}" />
				</div>
			</div>

			<div class="form">
				<div class="label">権限：</div>
				<div class="input">
					<input type="radio" th:field="*{authority}" value="1" />一般
					<input type="radio" th:field="*{authority}" value="2" />管理者
				</div>
			</div>

			<div class="form">
				<div class="label">部署名：</div>
				<div class="input">
					<select th:field="*{deptId}">
						<option value="1">営業部</option>
						<option value="2">経理部</option>
						<option value="3">総務部</option>
					</select>
				</div>
			</div>
			
			<div class="form">
				<div class="label"></div>
				<div class="input">
					<input type="submit" value="登録" />
				</div>
			</div>
		</form>
		
		<form th:action="@{/list}" name="back">
			<div class="form">
				<div class="label"></div>
				<div class="input">
					<input type="submit" value="戻る" />
				</div>
			</div>
		</form>
    </div>
    <script>
       
           
           const inp = document.getElementById('empPass');
            const btn = document.getElementById('toggleVisibility');

            if (inp && btn) {
               
                btn.addEventListener('mousedown', function(e) {
                    
                    inp.type = 'text';
                    btn.textContent = 'Close';
                });

                
                btn.addEventListener('mouseup', function() {
                    inp.type = 'password';
                    btn.textContent = 'Open';
                });

               
                btn.addEventListener('mouseleave', function() {
                    inp.type = 'password';
                    btn.textContent = 'Open';
                });
                 }
        
    </script>
</body>
</html>